# ๐ ุฏููู ูุดุฑ ุงููุดุฑูุน ุนูู Render

## โ ุงูุชุญุณููุงุช ุงููุทุจูุฉ

ุชู ุชุญุฏูุซ `server.js` ู `render.yaml` ูุญู ูุดููุฉ 503 Error:

### 1. ุชุญุณููุงุช server.js
- โ ุฅุถุงูุฉ **Health Check Endpoint** ุนูู `/health`
- โ **ุงูุชุญูู ูู ูุฌูุฏ ูุฌูุฏ dist** ูุจู ุจุฏุก ุงูุณูุฑูุฑ
- โ **ูุนุงูุฌุฉ ุฃุฎุทุงุก ุฃูุถู** ูุน ุฑุณุงุฆู ุชูุถูุญูุฉ
- โ **Logging ููู ุงูุทูุจุงุช** ูุชุชุจุน ุงููุดุงูู
- โ **Graceful Shutdown** ุนูุฏ ุฅููุงู ุงูุณูุฑูุฑ

### 2. ุชุญุฏูุซ render.yaml
- โ ุชุบููุฑ `healthCheckPath` ูู `/` ุฅูู `/health`

---

## ๐ ุฎุทูุงุช ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงูุฎุทูุฉ 1๏ธโฃ: ุชุญูู ูู ุงูููุฌุงุช (Logs) ูู Render

ุจุนุฏ ุงููุดุฑุ ุงูุชุญ Dashboard โ Logs ูู Render ูุงุจุญุซ ุนู:

```bash
๐ Checking paths:
   __dirname: /opt/render/project/src
   dist path: /opt/render/project/src/dist
   dist exists: true/false   โฌ๏ธ ูุฌุจ ุฃู ูููู true
   index.html exists: true/false  โฌ๏ธ ูุฌุจ ุฃู ูููู true
```

#### โ ุฅุฐุง ุธูุฑุช ุฑุณุงูุฉ "dist directory not found":

**ุงูุณุจุจ:** ูุดู ุฃูุฑ ุงูุจูุงุก (`npm run build`)

**ุงูุญู:**
1. ุชุญูู ูู ุฃู ุฃูุฑ ุงูุจูุงุก ูุงุฌุญ ูู Render Logs:
   ```bash
   > npm run build
   โ built in 45s
   ```

2. ุฅุฐุง ูุดู ุงูุจูุงุกุ ูุฏ ูููู ุจุณุจุจ:
   - **ููุต ุงูุฐุงูุฑุฉ** (Memory limit ุนูู Free Plan)
   - **ุฃุฎุทุงุก ูู TypeScript** (ุชุฃูุฏ ูู `npm run build` ูุนูู ูุญููุงู)
   - **Dependencies ูุงูุตุฉ**

---

### ุงูุฎุทูุฉ 2๏ธโฃ: ุงุฎุชุจุฑ ูุญููุงู ูุจู ุงููุดุฑ

```bash
# 1. ูุธู ุงููุดุฑูุน
rm -rf node_modules dist

# 2. ุฃุนุฏ ุชุซุจูุช Dependencies
npm install

# 3. ุฌุฑุจ ุงูุจูุงุก
npm run build

# 4. ุชุญูู ูู ูุฌูุฏ ูุฌูุฏ dist
ls -la dist/

# 5. ุฌุฑุจ ุงูุณูุฑูุฑ ูุญููุงู
npm start
```

ุฅุฐุง ูุฌุญ ูู ุดูุก ูุญููุงูุ ูุงููุดููุฉ ูู Render.

---

### ุงูุฎุทูุฉ 3๏ธโฃ: ุญููู ูุดุงูู ุงูุฐุงูุฑุฉ (Memory Issues)

ุฅุฐุง ูุงู ุงูุจูุงุก ููุดู ุจุณุจุจ ุงูุฐุงูุฑุฉ ุนูู Free Plan:

**ุงูุญู 1: ุชูููู ุญุฌู ุงูุจูุงุก**

ุนุฏูู `vite.config.ts`:

```typescript
export default defineConfig({
  build: {
    sourcemap: false,  // ุฃููู sourcemaps ูู ุงูุฅูุชุงุฌ
    minify: 'terser',
    rollupOptions: {
      output: {
        manualChunks: {
          vendor: ['react', 'react-dom'],
          // ููู ุนุฏุฏ ุงูู chunks
        }
      }
    },
    chunkSizeWarningLimit: 1000,
  }
})
```

**ุงูุญู 2: ุฒูุงุฏุฉ ุญุฏ ุงูุฐุงูุฑุฉ ูู package.json**

```json
{
  "scripts": {
    "build": "NODE_OPTIONS='--max-old-space-size=4096' tsc && vite build"
  }
}
```

---

### ุงูุฎุทูุฉ 4๏ธโฃ: ุชุญุฏูุซ ุฅุนุฏุงุฏุงุช Render ูุฏููุงู

ุฅุฐุง ูู ูุนูู `render.yaml`ุ ุงุฐูุจ ุฅูู Dashboard:

1. **Build Command:**
   ```bash
   npm install && npm run build
   ```

2. **Start Command:**
   ```bash
   npm start
   ```

3. **Environment Variables:**
   - `NODE_ENV` = `production`
   - `PORT` = `10000` (ุงุฎุชูุงุฑู)

4. **Health Check Path:**
   ```
   /health
   ```

---

### ุงูุฎุทูุฉ 5๏ธโฃ: ุงุฎุชุจุฑ Health Check

ุจุนุฏ ุงููุดุฑุ ุฌุฑุจ ุงููุตูู ุฅูู:

```
https://bringus.onrender.com/health
```

ูุฌุจ ุฃู ุชุฑู:
```json
{
  "status": "ok",
  "timestamp": "2025-10-16T...",
  "service": "bringus-frontend"
}
```

โ ุฅุฐุง ูุฌุญ โ ุงูุณูุฑูุฑ ูุนูู ูุฌุงูุฒ  
โ ุฅุฐุง ูุดู โ ุงุฑุฌุน ุฅูู ุงูููุฌุงุช

---

## ๐ฏ ุงูุฃุฎุทุงุก ุงูุดุงุฆุนุฉ ูุญููููุง

### 1. ุฎุทุฃ 503 ุจุนุฏ ุงูุจูุงุก ุงููุงุฌุญ

**ุงูุฃุณุจุงุจ:**
- ูุฌูุฏ `dist` ุบูุฑ ููุฌูุฏ (ูุดู ุงูุจูุงุก ุจุตูุช)
- ุงูุณูุฑูุฑ ูุจุฏุฃ ูุจู ุงูุชูุงู ุงูุจูุงุก
- ูุดููุฉ ูู ูุฑุงุกุฉ ููู `index.html`

**ุงูุญู:**
ุงุณุชุฎุฏู ุงูููุฌุงุช ููุชุญูู ูู ุฑุณุงุฆู ุงูุณูุฑูุฑ ุงูุฌุฏูุฏุฉ.

---

### 2. ุฎุทุฃ "Cannot find module"

**ุงูุณุจุจ:** Dependencies ูุงูุตุฉ ูู `package.json`

**ุงูุญู:**
```bash
# ุชุฃูุฏ ูู ุฃู express ููุฌูุฏ ูู dependencies (ูููุณ devDependencies)
npm install express --save
```

ุชุญูู ูู `package.json`:
```json
{
  "dependencies": {
    "express": "^4.21.2"  โ
  }
}
```

---

### 3. ุงูุตูุญุฉ ุชุธูุฑ ุจูุถุงุก (Blank Page)

**ุงูุณุจุจ:** ูุดููุฉ ูู ูุณุงุฑุงุช React Router ุฃู API

**ุงูุญู:**
1. ุงูุชุญ Console ูู ุงููุชุตูุญ (F12)
2. ุงุจุญุซ ุนู ุฃุฎุทุงุก JavaScript
3. ุชุฃูุฏ ูู ุฃู ุฌููุน ุงููููุงุช ุงูุซุงุจุชุฉ ุชูุญููู ุจูุฌุงุญ (Network Tab)

---

## ๐ Checklist ูุจู ุงููุดุฑ

- [ ] `npm run build` ูุนูู ูุญููุงู ุจุฏูู ุฃุฎุทุงุก
- [ ] ูุฌูุฏ `dist` ูุชู ุฅูุดุงุคู ุจูุฌุงุญ
- [ ] `npm start` ูุนูู ูุญููุงู
- [ ] ููู `package.json` ูุญุชูู ุนูู `"start": "node server.js"`
- [ ] `express` ููุฌูุฏ ูู `dependencies` (ูููุณ `devDependencies`)
- [ ] ูุชุบูุฑุงุช ุงูุจูุฆุฉ ูุญุฏุฏุฉ ูู Render Dashboard
- [ ] Health Check Path = `/health`

---

## ๐ ุฅุฐุง ูู ูุนูู ุดูุก

### ุงุณุชุฎุฏู Static Site ุจุฏูุงู ูู Web Service

ุฅุฐุง ุงุณุชูุฑุช ุงููุดุงููุ ููููู ูุดุฑ ุงููุดุฑูุน ูู **Static Site**:

1. ูู Render Dashboardุ ุงุฎุชุฑ **New Static Site**
2. ุงุฑุจุท ูุณุชูุฏุน GitHub
3. ุฅุนุฏุงุฏุงุช ุงูุจูุงุก:
   - **Build Command:** `npm install && npm run build`
   - **Publish Directory:** `dist`

โ ูุฐุง ุงูุญู ุฃุจุณุท ููุง ูุญุชุงุฌ `server.js`  
โ ูููู ูุง ูุฏุนู Server-Side Logic (ุฅุฐุง ููุช ุชุญุชุงุฌูุง)

---

## ๐ ุฏุนู ุฅุถุงูู

ููุญุตูู ุนูู ูุณุงุนุฏุฉุ ุงุฑุณู:
1. ููุฌุงุช Render ูุงููุฉ (ูู Build ู Runtime)
2. ุฑุณุงูุฉ ุงูุฎุทุฃ ุงูุฏูููุฉ (503, 500, ุฅูุฎ)
3. ุฑุงุจุท ุงููุดุฑูุน ุนูู Render

---

**ุชู ุงูุชุญุฏูุซ:** 2025-10-16  
**ุงููุณุฎุฉ:** 2.0

